<div class="border rounded-lg border-gray-400 p-4">
  <div class="p-2 rounded-md flex flex-col">
    <p class="text-center flex-1 text-gray-500" *ngIf="milestones.length === 0">
      Aucune milestone {{ !interactiveMode ? "selectionnée" : "trouvée" }}
    </p>
    <span *ngIf="interactiveMode" class="mb-2">Dernières milestones</span>
    <ul class="flex flex-col gap-2 list-none">
      <li
        class="flex items-center gap-2"
        *ngFor="let milestone of getSortedMilestones()"
      >
        <!-- TODO: faire un composant pour afficher les milestones entries -->
        <div
          class="p-2 border rounded-lg bg-gray-100 flex gap-2 w-full items-center justify-between"
        >
          <label class="flex flex-1 items-center">
            <input
              *ngIf="interactiveMode"
              type="checkbox"
              class="mr-2"
              [checked]="isSelected(milestone)"
              (change)="toggleMilestone(milestone)"
            />
            <span class="font-medium text-gray-700">{{ milestone.title }}</span>
            <span
              class="rounded-full px-2 py-[2px] text-xs font-semibold ms-2"
              [ngClass]="getMilestoneStateColorClasses(milestone)"
            >
              {{ getMilestoneStateLabel(milestone) }}
            </span>
          </label>

          <a
            class="text-xs font-semibold underline text-blue-500 rounded-full"
            href="{{ getMilestoneURL(milestone) }}"
            target="_blank"
          >
            Ouvrir sur Gitlab
          </a>
        </div>
      </li>
    </ul>
    <div *ngIf="interactiveMode" class="mt-2">
      <span *ngIf="lastClosedMilestones.length > 0">Anciennes versions</span>
      <ul class="flex flex-col gap-2 list-none mt-2">
        <li
          class="flex items-center gap-2"
          *ngFor="let milestone of lastClosedMilestones"
        >
          <app-old-milestone-action-choice
            class="w-full"
            [milestone]="milestone"
            (selectedMilestoneEvent)="toggleMilestone($event)"
          ></app-old-milestone-action-choice>
        </li>
      </ul>
    </div>
  </div>
</div>
